image:
  repository: registry.digitalocean.com/org/doc-worker
  tag: "1.0.0"
  pullPolicy: IfNotPresent

replicaCount: 1

env:
  S3_ENDPOINT: "https://nyc3.digitaloceanspaces.com"
  S3_BUCKET: "medical-reports"
  S3_REGION: "nyc3"
  RABBITMQ_URI: "amqp://user:pass@rabbitmq.default.svc.cluster.local:5672/"
  DATABASE_URL: "postgresql://user:pass@postgres:5432/medscribe"
  RASTER_DPI: "300"
  OCR_LANGS: "por+eng"
  HTR_ONNX_ENABLE: "false"
  CONFIDENCE_THRESHOLD: "0.8"
  MODEL_VERSION: "1.0.0"
  WORKER_CONCURRENCY: "4"

resources:
  requests:
    cpu: "500m"
    memory: "1Gi"
  limits:
    cpu: "2000m"
    memory: "4Gi"

keda:
  enabled: true
  minReplicaCount: 0
  maxReplicaCount: 30
  cooldownPeriod: 60
  queueName: "process_document"
  queueLength: 50

